!function(a){"use strict";function b(a){for(var b in a)this[b]=a[b];"rightDown"==this.direction?this.height=Number.POSITIVE_INFINITY:this.width=Number.POSITIVE_INFINITY,this.reset()}b.prototype.width=Number.POSITIVE_INFINITY,b.prototype.height=Number.POSITIVE_INFINITY,b.prototype.gutter=0,b.prototype.direction="rightDown",b.prototype.minWidth=0,b.prototype.minHeight=0,b.prototype.reset=function(){this.slots=[];var a=new Rectangle({x:0,y:0,width:this.width,height:this.height});this.slots.push(a),this.sorter=c[this.direction]||c.rightDown},b.prototype.add=function(a){a.width>this.width&&(a.width=this.width),a.height>this.height&&(a.height=this.height);for(var b=0,c=this.slots.length;c>b;b++){var d=this.slots[b];if(d.canFit(a)){this.placeAt(a,d);break}}return this},b.prototype.placeAt=function(a,b){return a.x=b.x,a.y=b.y,this.placed(a),a},b.prototype.placed=function(a){this.gutter&&(a.width+=2*this.gutter,a.height+=2*this.gutter,a.x-=this.gutter,a.y-=this.gutter);for(var c=[],d=0,e=this.slots.length;e>d;d++){var f=this.slots[d],g=f.getSlotsAround(a);g?c.push.apply(c,g):c.push(f)}this.gutter&&(a.width-=2*this.gutter,a.height-=2*this.gutter,a.x+=this.gutter,a.y+=this.gutter),this.minWidth=Math.max(a.x+a.width,this.minWidth),this.minHeight=Math.max(a.y+a.height,this.minHeight),this.slots=c,b.cleanRedundant(this.slots),this.slots.sort(this.sorter)},b.cleanRedundant=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];if(d){var e=a.slice(0);e.splice(b,1);for(var f=0,g=0,h=e.length;h>g;g++){var i=e[g],j=b>g?0:1;d.contains(i)&&(a.splice(g+j-f,1),f++)}}}return a};var c={rightDown:function(a,b){return a.y-b.y||a.x-b.x},downRight:function(a,b){return a.x-b.x||a.y-b.y}};a.Packer=b}(window);
//# sourceMappingURL=packer.js.map