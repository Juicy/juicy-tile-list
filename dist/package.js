!function(a,b){"use strict";function c(a,b,d){d=d||{};var e,f;b?(e=a.name||(b&&b.name)+"_"+g,a.name=e):(e=a.name="root",b=null),d[e]=f=a,Object.defineProperty(a,"container",{value:b,writable:!0});for(var g=0,h=a.items.length;h>g;g++){var i=a.items[g];i.items?(i.name||(i.name=f.name+"_"+g),c(i,f,d)):(d[i.index]=i,Object.defineProperty(i,"container",{value:f,writable:!0}))}return d}function d(a){for(var b=1,c=0,d=a.length;d>c;c++)a[c].priority<b&&(b=a[c].priority);return 0>b&&(b=0),b}function e(a){this.setup=a||{name:"root",direction:"rightDown",gutter:0,items:[]},this.items=c(this.setup)}e.prototype.items=null,e.prototype.setup=null,e.prototype.direction="rightDown",e.prototype.packItems=function(a){a||(a=this.setup);var c=this,d=new b(a);return d.items=a.items.sort(this.sorter).map(function(b){var e=new Rectangle(b);return e.width=!e.widthAuto&&"string"==typeof e.width&&e.width.indexOf("%")>0?(a.width+a.gutter)*parseFloat(e.width)/100-a.gutter:parseFloat(e.width),e.height=!e.heightAuto&&"string"==typeof e.height&&e.height.indexOf("%")>0?(a.height+a.gutter)*parseFloat(e.height)/100-a.gutter:parseFloat(e.height),b.items&&(e=c.packItems(e)),d.add(e),e}),d.height=a.heightAuto?d.minHeight:parseFloat(a.height),d.width=a.widthAuto?d.minWidth:parseFloat(a.width),d},e.prototype.reprioritizeItem=function(a,b,c){var d,e,a,f=a,g=a.container&&a.container.items;if(!g)throw new RangeError("Cannot reprioritize root container");if(g.length<2)return this;var h=g.indexOf(f);if(c||b&&1>=h||!b&&h>=g.length-2)if(b){if(1==f.priority)return this;if(d=g[0],d==a)return f.priority=1,this;d.priority=(g[1].priority+1)/2,f.priority=1}else{if(0==f.priority)return this;if(e=g[g.length-1],e==a)return f.priority=0,this;e.priority=g[g.length-2].priority/2,f.priority=0}else b?(d=g[h-2],e=g[h-1]):(d=g[h+1],e=g[h+2]),f.priority=(d.priority+e.priority)/2;return this.packItems(),this},e.prototype.resizeItem=function(a,b,c){return a.width=b,a.height=c,this.packItems(),this},e.prototype.moveToContainer=function(a,b,c){var d=a.container&&a.container.items;if(!d)throw new RangeError("Cannot move root container");var e;return e=b.items,d==e?!1:(d.splice(d.indexOf(a),1),a.container=b,e.push(a),void(c||this.packItems()))},e.prototype.deleteContainer=function(a,b){if(a.index)throw new RangeError("Cannot delete real element");var c=a.container;if("root"==a.name||!c)throw new RangeError("Cannot delete root container");for(var d=c.items,e=a.items.length;e--;)this.moveToContainer(a.items[e],c,!0);var f=d.splice(d.indexOf(a),1)[0];return delete this.items[a.name],b||this.packItems(),f},e.prototype.generatePackageName=function(a){for(var b=0;this.items[a.name+"_"+b];)b++;return a.name+"_"+b},e.prototype.createNewContainer=function(a,b,c,e){b=b||this.setup,a||(a=this.generatePackageName(b));var f=b.items,g={gutter:0,items:[],name:a,priority:c?c.priority:d(f)/2,width:c&&c.width||0,height:c&&c.height||0};return this.items[a]=g,Object.defineProperty(g,"container",{value:b,writable:!0}),f.push(g),e||this.packItems(),g},a.Package=e}(window,Packer);
//# sourceMappingURL=package.js.map